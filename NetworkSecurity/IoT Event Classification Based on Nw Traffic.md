# IoT Event Classification Based on N/w Traffic
#paper #NetSec
## Introduction
-  because of limited states and functionality, we can sniff network traffic to infer user actions 
- This paper compares performance of 10 ML algo to classify 128 device events from 39 different devices.
- Even in encrypted traffic, meta info like packet length and traffic rate can help identify commands/actions (like ON or OFF)
- Paper also analyze the impact of different interaction methods on the classifier. For example what if the user called Alexa to ON the switch vs manually turning it ON vs using mobile app to turn ON.
- Determine the influence of LAN vs WAN interaction with the device.
- Effect of region on the network traffic (because different regions have different privacy regulations)

## Related Works
### IoT Device Identification
There already exists papers that offers solutions to identity devices based on:
- packet header features
- device fingerprinting based on features
- self learning models based on traffic flows
- cryptography and data integrity verifications used
- PCA of TLS features

### IoT Event Classification
- use mean and standard deviation of packet length and the number of transmitted bytes with ML algorithms like k-NN, Random Forest, SVM and Majority Voting.

## Methodology
### Dataset
- [GitHub - NEU-SNS/intl-iot: Datasets and code for IMCâ€™19 paper on information exposure from IoT devices](https://github.com/NEU-SNS/intl-iot)
- Dataset includes:
	- 81 different IoT devices (46 deployed in US, 35 in UK)
	- 55/81 devices are unique
	- Devices less than 40 measurements were excluded, resulting in 39 devices and 128 different device events.
	- Interaction modes:
		- Nexus 5X
		- Echo dot
		- physically
	- Data includes LAN, WAN experiments.
		- in LAN companion app/Alexa is connected to same network resulting in direct command
		- in WAN companion app/Alexa is connected in outside network, therefore using cloud infrastructure to pass command. 

### ML Classifiers
- used 10 ML classifiers offered by scikit learn in Python
- *Optimum set of tuned parameter for each classifier* (understand what this means?)

### Feature Extraction
- Two ways of traffic fingerprinting:
	- Individual packet headers (derive which protocols are used in communication)
	- Statistical traits derived from flow
- Statistical features used:
	- sum, min, max, mean, interquartile range, standard deviation, and variance) on four different features of ip.len, tcp.len, ip.ttl, and inter arrival time of the frames
- Also considered presence of protocols - data, ssl, dns, eapol, icmp, x509sat, http, ntp, ssdp, and llc.
- Ignored protocols - arp, tcp, ump and boots

## Evaluation
### Classification of IoT events
- Authors compare different models. Comparison tables attached as a figure.
- Trend indicates: IoT traffic does not follow Gaussian or Bernoulli distributions
- Due of limited number of packets, performance of Stochastic Gradient Descent is affected.

### Impact of interaction mode
- When using ancillary devices the number of cases increases. For eg. In turning ON was one class, using ancillary device created three classes - interaction with Alexa, command generated by Alexa, and finally turn ON command.
- Separating functionalities into subclasses reduces precision by about 6%

### Impact of communication medium
Performance of the classifiers are more of less the same

### Impact of Regional Difference
- Data testbeds were in US and UK. UK has stringent privacy regulations imposed by EU.
- Traffic generated for each command in UK was lesser compared to traffic generated in US for corresponding command.
- This resulted in higher precision of identifying command in the US compared to that in the UK.